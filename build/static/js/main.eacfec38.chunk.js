(this["webpackJsonpchocolate-city-app"]=this["webpackJsonpchocolate-city-app"]||[]).push([[0],{142:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(35),r=n.n(s),i=(n(142),n(28)),l=n.n(i);l.a.defaults.baseURL="https://jsonplaceholder.typicode.com/",l.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",l.a.defaults.headers.common["X-Frame-Options"]="sameorigin",l.a.interceptors.response.use((function(e){return e}),(function(e){return new Promise((function(t,n){console.log(e),n(e)}))}));var o=n(57),d=n(17),j=n(18),u=n(230),b=n(25),x=n(16),m=n.n(x),O=n(20),f=Object(b.b)("artistes/all",Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("users").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),h=Object(b.c)({name:"artistes",initialState:{loading:!1,artistes:[]},reducers:{},extraReducers:function(e){e.addCase(f.pending,(function(e,t){e.loading=!0})),e.addCase(f.fulfilled,(function(e,t){e.loading=!1,e.artistes=t.payload})),e.addCase(f.rejected,(function(e,t){e.loading=!1}))}}).reducer,p=n(15),g=Object(b.c)({name:"snackbar",initialState:{data:{open:!1,message:""}},reducers:{openSnackbar:function(e,t){e.data.open=!0,e.data.message=t.payload.message},closeSnackbar:function(e,t){e.data.open=!1,e.data.message=""}}}),v=g.actions,w=v.openSnackbar,y=v.closeSnackbar,C=g.reducer,N=Object(b.b)("tweets/create",function(){var e=Object(O.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("comments",t).then((function(e){return n.dispatch(w({message:"Tweet saved successfully"})),e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(b.b)("tweets/all",function(){var e=Object(O.a)(m.a.mark((function e(t){var n,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:10,e.next=3,l.a.get("comments?_page=".concat(t,"&_limit=").concat(n)).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(b.b)("tweets/update",function(){var e=Object(O.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.put("comments/".concat(t.id),t).then((function(e){return n.dispatch(w({message:"Tweet updated successfully"})),e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),z=Object(b.c)({name:"tweets",initialState:{loading:!1,isSubmitting:!1,tweets:[],dialog:{open:!1,data:null}},reducers:{removeTweet:function(e,t){e.tweets=e.tweets.filter((function(e){return e.id!==t.payload}))},openDialog:function(e,t){e.dialog.open=!0,e.dialog.data=t.payload},closeDialog:function(e,t){e.dialog.open=!1,e.dialog.data=null}},extraReducers:function(e){e.addCase(k.pending,(function(e,t){e.loading=!0})),e.addCase(k.fulfilled,(function(e,t){e.loading=!1,e.tweets=t.payload})),e.addCase(N.pending,(function(e,t){e.loading=!0})),e.addCase(N.fulfilled,(function(e,t){e.loading=!1,e.tweets.unshift(t.payload)})),e.addCase(S.pending,(function(e,t){e.isSubmitting=!0})),e.addCase(S.fulfilled,(function(e,t){var n=e.tweets.filter((function(e){return e.id!==t.payload.id}));e.isSubmitting=!1,e.tweets=[t.payload].concat(Object(p.a)(n))}))}}),I=z.actions,T=I.removeTweet,F=I.openDialog,L=I.closeDialog,A=z.reducer,W=Object(b.b)("albums/all",function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("albums?userId=".concat(t)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(b.b)("albums/photos",function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("albums/".concat(t,"/photos")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(b.c)({name:"albums",initialState:{loading:!1,photoLoading:!1,albums:[],photos:[]},reducers:{},extraReducers:function(e){e.addCase(W.pending,(function(e,t){e.loading=!0})),e.addCase(W.fulfilled,(function(e,t){e.loading=!1,e.albums=t.payload})),e.addCase(W.rejected,(function(e,t){e.loading=!1})),e.addCase(D.pending,(function(e,t){e.photoLoading=!0})),e.addCase(D.fulfilled,(function(e,t){e.photoLoading=!1,e.photos=t.payload})),e.addCase(D.rejected,(function(e,t){e.photoLoading=!1}))}}).reducer,B=n(37),R=Object(B.b)({snackbar:C}),q=Object(b.a)({reducer:{app:R,artist:h,tweet:A,album:E}}),P=n(119),H=Object(P.a)({palette:{primary:{light:"#77a258",main:"#558b2f",dark:"#3b6120",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}}),J=n(228),U=n(236),V=n(229),_=n(231),G=n(232),M=n(235),X=n(234),Y=n(233),K=n(42),Q=n(71),Z=n(72),$=n(242),ee=n(62),te=n.n(ee),ne=n(2),ae=function(){var e,t,n=Object(j.b)(),c=Object(d.f)(),s=Object(j.c)((function(e){return e.artist})),r=s.artistes,i=s.loading,l=Object(j.c)((function(e){return e.album})),o=l.albums,u=l.loading;return Object(a.useEffect)((function(){n(f())}),[n]),Object(ne.jsxs)("div",{className:"md:max-w-6xl w-full md:mr-auto p-8",children:[Object(ne.jsx)("h2",{className:"text-4xl font-bold pb-8",children:"Chocolate city artistes"}),Object(ne.jsxs)("div",{className:"grid grid-cols-12 md:gap-x-16 gap-y-16",children:[Object(ne.jsxs)("div",{className:"col-span-12 md:col-span-7",children:[Object(ne.jsx)("h2",{className:"text-2xl font-medium text-gray-800 pb-6",children:"Artistes list"}),i?Object(ne.jsx)($.a,{size:16}):Object(ne.jsx)(_.a,{dense:!0,className:"border-l-4 border-gray-400",children:r.map((function(e){return Object(ne.jsxs)(G.a,{alignItems:"flex-start",children:[Object(ne.jsx)(X.a,{children:Object(ne.jsx)(J.a,{children:Object(ne.jsx)(Q.a,{})})}),Object(ne.jsx)(M.a,{primary:"".concat(e.name," \u2014 ").concat(e.email),secondary:Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)("span",{children:[e.phone," \u2014 ",e.website]}),Object(ne.jsx)("br",{}),Object(ne.jsx)("span",{children:e.website})]})}),Object(ne.jsxs)(Y.a,{className:"space-x-2",children:[Object(ne.jsx)(V.a,{edge:"start",size:"small","aria-label":"delete",onClick:function(){return n(W(e.id))},children:"view album"}),Object(ne.jsx)(U.a,{edge:"end","aria-label":"view",onClick:function(){return c("/artistes/".concat(e.id,"/albums"))},children:Object(ne.jsx)(K.a,{size:20})})]})]},e.id)}))})]}),Object(ne.jsxs)("div",{className:"col-span-12 md:col-span-5",children:[Object(ne.jsxs)("h2",{className:"text-2xl font-medium text-gray-800 pb-6",children:[null===(e=te.a.find(r,{id:null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.userId}))||void 0===e?void 0:e.name," Artiste's Album"]}),u?Object(ne.jsx)($.a,{size:16}):o.length?Object(ne.jsx)(_.a,{dense:!0,className:"border-l-4 border-green-600",children:o.map((function(e){var t;return Object(ne.jsxs)(G.a,{children:[Object(ne.jsx)(X.a,{children:Object(ne.jsx)(J.a,{sx:{backgroundColor:"primary.main"},children:Object(ne.jsx)(Z.a,{})})}),Object(ne.jsx)(M.a,{primary:"".concat(e.title),secondary:Object(ne.jsxs)("span",{children:["owned by ",null===(t=te.a.find(r,{id:e.userId}))||void 0===t?void 0:t.name]})})]},e.id)}))}):null]})]})]})},ce=Object(a.memo)(ae),se=n(216),re=n(237),ie=n(238),le=function(){var e=Object(j.b)(),t=Object(d.g)(),n=Object(j.c)((function(e){return e.artist})).artistes,c=Object(j.c)((function(e){return e.album})),s=c.albums,r=c.photos,i=c.loading,l=c.photoLoading;return Object(a.useEffect)((function(){e(f())}),[e]),Object(a.useEffect)((function(){e(W(t.userId))}),[e,t]),console.log("albums mounted"),Object(ne.jsxs)("div",{className:"md:max-w-6xl w-full mr-auto p-8",children:[Object(ne.jsx)("h2",{className:"text-4xl font-bold pb-8",children:"Chocolate city artistes"}),Object(ne.jsxs)("div",{className:"grid grid-cols-12 md:gap-x-16 gap-y-16",children:[Object(ne.jsxs)("div",{className:"col-span-12 md:col-span-7",children:[Object(ne.jsx)("h2",{className:"text-2xl font-medium text-gray-800 pb-6",children:"Albums list"}),i?Object(ne.jsx)($.a,{size:16}):Object(ne.jsx)(_.a,{dense:!0,className:"border-l-4 border-gray-400",children:s.map((function(t){var a;return Object(ne.jsx)(G.a,{onClick:function(){return e(D(t.id))},children:Object(ne.jsxs)(se.a,{children:[Object(ne.jsx)(X.a,{children:Object(ne.jsx)(J.a,{sx:{backgroundColor:"primary.main"},children:Object(ne.jsx)(Z.a,{})})}),Object(ne.jsx)(M.a,{primary:t.title,secondary:Object(ne.jsxs)("span",{children:["owned by ",null===(a=te.a.find(n,{id:t.userId}))||void 0===a?void 0:a.name]})})]})},t.id)}))})]}),Object(ne.jsxs)("div",{className:"col-span-12 md:col-span-5",children:[Object(ne.jsx)("h2",{className:"text-2xl font-medium text-gray-800 pb-6",children:"Album's Photos"}),l?Object(ne.jsx)($.a,{size:16}):Object(ne.jsx)(re.a,{sx:{width:500,height:450},cols:3,rowHeight:164,children:r.map((function(e){return Object(ne.jsx)(ie.a,{children:Object(ne.jsx)("img",{src:"".concat(e.url,"?w=164&h=164&fit=crop&auto=format"),srcSet:"".concat(e.url,"?w=164&h=164&fit=crop&auto=format&dpr=2 2x"),alt:e.title,loading:"lazy"})},e.url)}))})]})]})]})},oe=Object(a.memo)(le),de=n(13),je=n(239),ue=n(223),be=n(5),xe=n(31),me=n(120),Oe=n(222),fe=n(217),he=n(244),pe=n(247),ge=n(245),ve=n(246),we=n(224),ye=n(219),Ce=n(117),Ne=function(e){var t=e.children,n=e.onClose,a=Object(me.a)(e,["children","onClose"]);return Object(ne.jsxs)(fe.a,Object(xe.a)(Object(xe.a)({sx:{m:0,p:2}},a),{},{children:[t,n?Object(ne.jsx)(U.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(ne.jsx)(Ce.a,{})}):null]}))};function ke(){var e=Object(j.b)(),t=Object(a.useState)({id:null,name:"",body:""}),n=Object(de.a)(t,2),c=n[0],s=n[1],r=Object(j.c)((function(e){return e.tweet.dialog})),i=r.open,l=r.data,o=Object(j.c)((function(e){return e.tweet.isSubmitting}));Object(a.useEffect)((function(){l&&s((function(e){return Object(xe.a)(Object(xe.a)({},e),{},{id:l.id,name:l.name,body:l.body})}))}),[l]);var d=function(e){s(Object(xe.a)(Object(xe.a)({},c),{},Object(be.a)({},e.target.name,e.target.value)))},u=function(){e(L())};return Object(ne.jsxs)(Oe.a,{onClose:u,"aria-labelledby":"customized-dialog-title",open:i,fullWidth:!0,maxWidth:"xs",children:[Object(ne.jsx)(Ne,{id:"dialog-title",onClose:u,children:"Update tweet"}),Object(ne.jsx)(he.a,{dividers:!0,children:Object(ne.jsxs)(ye.a,{spacing:2,children:[Object(ne.jsxs)(ge.a,{fullWidth:!0,children:[Object(ne.jsx)(ve.a,{children:"Name"}),Object(ne.jsx)(we.a,{name:"name",value:c.name,onChange:d})]}),Object(ne.jsxs)(ge.a,{fullWidth:!0,children:[Object(ne.jsx)(ve.a,{children:"Body"}),Object(ne.jsx)(we.a,{name:"body",value:c.body,onChange:d,rows:3,multiline:!0})]})]})}),Object(ne.jsx)(pe.a,{children:Object(ne.jsx)(V.a,{autoFocus:!0,variant:"outlined",onClick:function(){e(S(c)),u()},disabled:!(c.name&&c.body),endIcon:o&&Object(ne.jsx)($.a,{size:16}),children:"Save changes"})})]})}var Se=n(248),ze=n(78),Ie={name:"",body:""};var Te=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.tweet.isSubmitting})),n=Object(ze.b)({defaultValues:Ie}),a=n.control,c=n.handleSubmit,s=n.reset,r=n.formState.errors;return Object(ne.jsx)("div",{className:"w-full",children:Object(ne.jsxs)("form",{noValidate:!0,onSubmit:c((function(t){e(N(t)),s(null)})),children:[Object(ne.jsxs)(ye.a,{spacing:2,mb:4,children:[Object(ne.jsxs)(ge.a,{fullWidth:!0,children:[Object(ne.jsx)(ve.a,{children:"Name"}),Object(ne.jsx)(ze.a,{name:"name",rules:{required:"Name is required"},control:a,render:function(e){var t=e.field;return Object(ne.jsx)(we.a,Object(xe.a)({},t))}}),Object(ne.jsx)(Se.a,{children:Object(ne.jsx)("span",{className:"text-red-900",children:r.name&&r.name.message})})]}),Object(ne.jsxs)(ge.a,{fullWidth:!0,children:[Object(ne.jsx)(ve.a,{children:"Body"}),Object(ne.jsx)(ze.a,{name:"body",rules:{required:"Body is required"},control:a,render:function(e){var t=e.field;return Object(ne.jsx)(we.a,Object(xe.a)(Object(xe.a)({},t),{},{multiline:!0,rows:3}))}}),Object(ne.jsx)(Se.a,{children:Object(ne.jsx)("span",{className:"text-red-900",children:r.body&&r.body.message})})]})]}),Object(ne.jsx)(V.a,{type:"submit",autoFocus:!0,variant:"outlined",endIcon:t&&Object(ne.jsx)($.a,{size:16}),children:"Save tweet"})]})})},Fe=function(){var e=Object(j.b)(),t=Object(a.useState)(1),n=Object(de.a)(t,2),c=n[0],s=n[1],r=Object(j.c)((function(e){return e.tweet})),i=r.tweets,o=r.loading;return Object(a.useEffect)((function(){e(k(c))}),[e,c]),Object(ne.jsxs)("div",{className:"md:max-w-6xl w-full mr-auto p-8",children:[Object(ne.jsx)("h2",{className:"text-4xl font-bold pb-8",children:"Tweets"}),Object(ne.jsxs)("div",{className:"grid grid-cols-12 md:gap-x-16 gap-y-16",children:[Object(ne.jsxs)("div",{className:"col-span-12 md:col-span-7",children:[Object(ne.jsx)("h2",{className:"text-2xl font-medium text-gray-800 pb-6",children:"Your tweets"}),o?Object(ne.jsx)($.a,{size:16}):Object(ne.jsx)(_.a,{dense:!0,className:"border-l-4 border-gray-400",children:i.map((function(t){return Object(ne.jsxs)(G.a,{alignItems:"flex-start",children:[Object(ne.jsx)(X.a,{children:Object(ne.jsx)(J.a,{sx:{backgroundColor:"primary.main"},children:Object(ne.jsx)(Q.a,{size:"24"})})}),Object(ne.jsx)(M.a,{primary:t.name,secondary:Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)("span",{children:t.body}),Object(ne.jsxs)("span",{className:"block space-x-6",children:[Object(ne.jsx)(U.a,{edge:"end","aria-label":"edit",onClick:function(){return e(F(t))},children:Object(ne.jsx)(K.d,{size:16})}),Object(ne.jsx)(U.a,{edge:"end","aria-label":"delete",onClick:function(){return e((n=t.id,function(){var e=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("comments/".concat(n)).then((function(e){t(T(n))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},children:Object(ne.jsx)(K.e,{size:16})})]})]})})]},t.id)}))}),Object(ne.jsx)(je.a,{mt:4,children:Object(ne.jsx)(ue.a,{count:10,page:c,onChange:function(e,t){s(t)},variant:"outlined",shape:"rounded"})})]}),Object(ne.jsxs)("div",{className:"col-span-12 md:col-span-5",children:[Object(ne.jsxs)("h2",{className:"text-2xl font-medium text-gray-800 pb-6",children:["Create a new ",Object(ne.jsx)("span",{className:"text-gray-500",children:"tweet"})]}),Object(ne.jsx)(Te,{})]})]}),Object(ne.jsx)(ke,{})]})},Le=Object(a.memo)(Fe),Ae=n(240),We=n(241),De=n(221),Ee=Object(De.a)((function(e){return{list:{flexGrow:1}}}));var Be=function(e){var t=e.children,n=Ee(),a=Object(d.f)(),s=c.a.useState(1),r=Object(de.a)(s,2),i=r[0],l=r[1],o=function(e,t,n){l(t),a(n,{replace:!0})};return Object(ne.jsxs)("div",{className:"w-full block md:flex",children:[Object(ne.jsx)("div",{className:"md:min-h-screen md:w-64 md:max-w-lg w-full bg-gray-700",children:Object(ne.jsxs)(je.a,{sx:{width:"100%",maxWidth:"100%",color:"#ccc"},children:[Object(ne.jsxs)(_.a,{component:"nav","aria-label":"main nav",className:n.list,children:[Object(ne.jsxs)(se.a,{selected:0===i,onClick:function(e){return o(0,0,"artistes")},children:[Object(ne.jsx)(Ae.a,{children:Object(ne.jsx)(K.b,{color:"#ccc"})}),Object(ne.jsx)(M.a,{primary:"Artistes"})]}),Object(ne.jsxs)(se.a,{selected:1===i,onClick:function(e){return o(0,1,"tweets")},children:[Object(ne.jsx)(Ae.a,{children:Object(ne.jsx)(K.c,{color:"#ccc"})}),Object(ne.jsx)(M.a,{primary:"Tweets"})]})]}),Object(ne.jsx)(We.a,{})]})}),Object(ne.jsx)("div",{className:"flex-1 w-full border",children:t})]})},Re=n(226),qe=n(225),Pe=c.a.forwardRef((function(e,t){return Object(ne.jsx)(qe.a,Object(xe.a)({elevation:6,ref:t,variant:"filled"},e))}));var He=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.app.snackbar.data})),n=t.open,a=t.message;return Object(ne.jsx)("div",{children:Object(ne.jsx)(Re.a,{open:n,autoHideDuration:6e3,onClose:function(){return e(y())},children:Object(ne.jsx)(Pe,{onClose:function(){return e(y())},severity:"success",sx:{width:"100%"},children:a})})})};var Je=function(){return Object(ne.jsx)("div",{className:"App",children:Object(ne.jsx)(j.a,{store:q,children:Object(ne.jsxs)(u.a,{theme:H,children:[Object(ne.jsx)(He,{}),Object(ne.jsx)(o.a,{children:Object(ne.jsx)(Be,{children:Object(ne.jsxs)(d.c,{children:[Object(ne.jsx)(d.a,{path:"/",element:Object(ne.jsx)(ce,{})}),Object(ne.jsxs)(d.a,{path:"artistes",children:[Object(ne.jsx)(d.a,{index:!0,element:Object(ne.jsx)(ce,{})}),Object(ne.jsx)(d.a,{path:":userId/albums",element:Object(ne.jsx)(oe,{})})]}),Object(ne.jsx)(d.a,{path:"tweets",element:Object(ne.jsx)(Le,{}),children:Object(ne.jsx)(d.a,{path:":tweetId",element:Object(ne.jsx)(oe,{})})})]})})})]})})})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,250)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(ne.jsx)(c.a.StrictMode,{children:Object(ne.jsx)(Je,{})}),document.getElementById("root")),Ue()}},[[170,1,2]]]);
//# sourceMappingURL=main.eacfec38.chunk.js.map